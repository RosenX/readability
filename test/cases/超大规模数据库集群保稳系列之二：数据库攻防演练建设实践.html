<html lang="en" dir="ltr" class=" theme-united"><head><meta charset="utf-8"><meta name="renderer" content="webkit"><meta http-equiv="x-ua-compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="author" content="soulteary@gmail.com"><script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script><script type="text/javascript" async="" src="https://www.googletagmanager.com/gtag/js?id=G-LYVVHCWVNG&amp;l=dataLayer&amp;cx=c"></script><script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script><script type="text/javascript" async="" src="https://www.googletagmanager.com/gtag/js?id=G-FSX5S86483&amp;l=dataLayer&amp;cx=c"></script><script src="https://hm.baidu.com/hm.js?7158c55a533ed0cf57dede022b1e6aed"></script><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-158867676-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-158867676-1');</script><meta name="robots" content="index, follow"><meta property="og:title" content="超大规模数据库集群保稳系列之二：数据库攻防演练建设实践"><meta property="og:description" content="本文整理自美团技术沙龙第75期的主题分享《美团数据库攻防演练建设实践》，系超大规模数据库集群保稳系列的第2篇文章。本文首先介绍了美团当前数据库运维现状、遇到的问题，以及为什么要建设数据库攻防演练平台；其次，分享当前数据库攻防演练平台的具体实践；第三部分会介绍数据库攻防演练在美团内部的落地情况；最后，会结合混沌工程的成熟度标准和成熟度等级，分享我们对未来工作的一些规划。"><meta property="og:type" content="article"><meta property="og:url" content="https://tech.meituan.com/2023/05/26/database-attack-and-defense-practice.html"><meta property="article:published_time" content="2023-05-26T00:00:00+00:00"><meta property="article:modified_time" content="2023-05-26T00:00:00+00:00"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="超大规模数据库集群保稳系列之二：数据库攻防演练建设实践"><meta name="twitter:description" content="本文整理自美团技术沙龙第75期的主题分享《美团数据库攻防演练建设实践》，系超大规模数据库集群保稳系列的第2篇文章。本文首先介绍了美团当前数据库运维现状、遇到的问题，以及为什么要建设数据库攻防演练平台；其次，分享当前数据库攻防演练平台的具体实践；第三部分会介绍数据库攻防演练在美团内部的落地情况；最后，会结合混沌工程的成熟度标准和成熟度等级，分享我们对未来工作的一些规划。"><meta name="description" content="本文整理自美团技术沙龙第75期的主题分享《美团数据库攻防演练建设实践》，系超大规模数据库集群保稳系列的第2篇文章。本文首先介绍了美团当前数据库运维现状、遇到的问题，以及为什么要建设数据库攻防演练平台；其次，分享当前数据库攻防演练平台的具体实践；第三部分会介绍数据库攻防演练在美团内部的落地情况；最后，会结合混沌工程的成熟度标准和成熟度等级，分享我们对未来工作的一些规划。"><meta name="keywords" content="基础研发平台,运维,数据库,攻防演练,"><link rel="canonical" href="https://tech.meituan.com/2023/05/26/database-attack-and-defense-practice.html"><title>超大规模数据库集群保稳系列之二：数据库攻防演练建设实践 - 美团技术团队</title><link rel="stylesheet" href="https://awps-assets.meituan.net/mit/blog/v20190629/common.css?v=Whistle&amp;t=20181017-1r"><link rel="stylesheet" href="https://awps-assets.meituan.net/mit/blog/v20190629/post.css?v=Whistle&amp;t=20181017-1r"><link rel="apple-touch-icon" sizes="180x180" href="https://awps-assets.meituan.net/mit/blog/v20190629/asset/icon/apple-icon-180x180.png?v=Whistle&amp;t=20181017-1r"><link rel="icon" type="image/png" sizes="192x192" href="https://awps-assets.meituan.net/mit/blog/v20190629/asset/icon/android-icon-192x192.png?v=Whistle&amp;t=20181017-1r"><link rel="shortcut icon" href="https://awps-assets.meituan.net/mit/blog/v20190629/asset/icon/favicon.ico?v=Whistle&amp;t=20181017-1r"><script>top!=self&&top.host!=self.host&&(top.location=self.location);(function(d){d.className=d.className.replace(/\bno-js/,'');})(document.documentElement);var $CONFIG={'data':{}};</script><link href="https://tech.meituan.com/feed/" rel="alternate" type="application/rss+xml" title="超大规模数据库集群保稳系列之二：数据库攻防演练建设实践"><script src="https://awps-assets.meituan.net/mit/blog/v20190629/asset/vendor/zepto.min.js?v=Whistle&amp;t=20181017-1r"></script><script src="https://awps-assets.meituan.net/mit/blog/v20190629/common.js?v=Whistle&amp;t=20181017-1r"></script><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1px; bottom: 2px; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head><body class="page page-type-post under-ios-device-mode"><div id="MathJax_Message" style="display: none;"></div><nav class="navbar navbar-default g-navbar-box hidden-print" id="Js_page-navbar"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
<span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button>
<a class="navbar-brand" href="https://tech.meituan.com/" title="美团技术团队" target="_self">美团技术团队</a></div><div class="collapse navbar-collapse"><ul class="nav navbar-nav navbar-right" id="JS_nav_list"><li class="menu-item menu-item-home"><a class="menu-item-link" href="https://tech.meituan.com/" target="_self" title="查看最新文章">最新文章</a></li><li class="menu-item menu-item-archive"><a class="menu-item-link" href="/archives" target="_self" title="查看文章存档内容">文章存档</a></li><li class="menu-item menu-item-salon"><a class="menu-item-link" href="/tech-salon" target="_self" title="了解技术沙龙">技术沙龙</a></li><li class="menu-item menu-item-about"><a class="menu-item-link" href="/about" target="_self" title="了解更多关于我们的事情">关于我们</a></li></ul></div><div class="navbar-bottom"><p class="copyright">© 2023 美团技术团队</p><p class="copyright">All rights reserved.</p></div></nav><div class="container-fluid main-container" id="J_main-container"><div class="row"><div class="col-md-12"><div class="post-container"><h1 class="post-title"><a href="https://tech.meituan.com/2023/05/26/database-attack-and-defense-practice.html" rel="bookmark">超大规模数据库集群保稳系列之二：数据库攻防演练建设实践</a></h1><div class="meta-box"><span class="m-post-date"><i class="fa fa-calendar-o"></i>2023年05月26日</span>
<span class="m-post-nick">作者: 占全</span>
<span class="m-post-permalink"><i class="fa fa-link-o"></i><a href="https://tech.meituan.com/2023/05/26/database-attack-and-defense-practice.html" target="_blank">文章链接</a></span>
<span class="m-post-count"><i class="fa fa-pencil"></i>9246字</span>
<span class="m-post-reading"><i class="fa fa-hourglass-start"></i>19分钟阅读</span></div><div class="post-content"><div class="content"><h2 id="01-背景">01 背景</h2><h3 id="1-1-初识混沌工程">1.1 初识混沌工程</h3><p>首先我们先了解一下什么是混沌工程？简单而言，混沌工程是在系统上进行实验的技术手段，目的是建立对系统抵御生产环境中失控条件的能力以及信心。这主要体现在两个方面，从系统角度来讲，混沌工程可以提升我们架构的容错能力和韧性，降低故障发生率和复发率，提升系统用户在使用时的体验；从人员角度来讲，通过混沌工程我们可以加深对架构的理解，在处理故障时能提高整体的应急效率，并且能主动去探究系统中潜在的一些问题。</p><p>混沌工程最早可以追溯到2008年，当时奈飞公司（Netflix）因数据库故障造成了一次巨大的损失，于是他们便围绕着稳定性体系做出了一些探索和建设。直到2015年，混沌工程的理念才被奈飞正式的提出。2019年，阿里云推出了开源工具<a href="https://github.com/chaosblade-io/chaosblade">Chaos Blade<i class="fa fa-link" aria-hidden="true"></i></a>；2020年，PingCAP开源了<a href="https://github.com/chaos-mesh/chaos-mesh">Chaos Mesh<i class="fa fa-link" aria-hidden="true"></i></a>，这也标志着国内在混沌工程领域也有了成熟的产品。</p><p><img src="https://p0.meituan.net/travelcube/0c465d3ad2f7bd9ab12376a8ac6d67ee1134711.png" alt="来源：中国信息通信研究院，2021年"><div class="img-figure"><span>来源：中国信息通信研究院，2021年</span></div></p><h3 id="1-2-现状">1.2 现状</h3><p>下面是当前美团数据库运维的一些现状，这里从五个维度展开：首先集群规模（包括集群的大小和数量）的线性增长；第二，集群访问量的持续增加，当然这也是美团业务增长的必然结果；第三，线上遇到的故障种类也越来越多；第四，单位时间故障的影响也越来越大；第五，一些小概率事件的发生也随着集群规模的扩大成为了可能。</p><p><img src="https://p0.meituan.net/travelcube/f4cdbe86a9b19b89e90c74d470cc93d385709.png" alt=""></p><h3 id="1-3-痛点-作用">1.3 痛点&amp;作用</h3><p>基于以上的问题，我们整体上对于数据库集群的稳定性要求也越来越高。所以，围绕着稳定性建设，数据库团队在故障的预防、发现、分析、恢复以及事后复盘5个方面做了很多工作。其中在故障预防方面，我们会通过故障演练探索不同故障场景对我们业务的影响，提升故障发生时业务系统整体的容错能力。早期的时候，我们通过人工的方式来做故障演练，但人工演练在以下四个方面存在很大的问题：</p><p><img src="https://p0.meituan.net/travelcube/2889f96d4b03fc6bc78e2933c9bc30a3165211.png" alt=""></p><ol><li>在演练场景方面，人工演练能演练的场景比较少，演练场景的复杂度也比较高；</li><li>在演练覆盖率方面，人工演练无法覆盖大多数的集群，也就无法保证常态化的故障演练；</li><li>在演练规模方面，人工演练没有办法进行大规模演练，在遇到一些机房或者交换机级的故障时，切换能力无法得到有效验证；</li><li>在影响范围方面，人工演练在整个演练过程中不能很好地控制爆炸半径，遇到问题不能快速止损。</li></ol><p>基于人工演练的这些痛点问题，我们设计并建设了数据库故障演练平台，这个平台的作用主要体现在以下四个方面：第一，验证故障发生时组件的防守能力；第二，通过数据库大规模容灾演练，验证数据库集群的容灾能力；第三，可以验证故障发生时相关预案（业务、DBA）的有效性；第四，可以预知故障对业务造成的各种影响。</p><h2 id="02-建设实践">02 建设实践</h2><h3 id="2-1-体系架构">2.1 体系架构</h3><p>当前，数据库故障演练平台体系架构主要包括如下六个模块：</p><p><img src="https://p1.meituan.net/travelcube/6dd55219e3d496ea609f86507bb85f22147503.png" alt=""></p><ol><li><strong>权限管理</strong>，控制演练发起人，可以对哪些集群发起故障演练；</li><li><strong>演练评估</strong>，演练之前为了避免演练风险，会对集群做一些检查，比如集群的高可用是否开启，拓扑是否符合要求，演练时间是否处在集群访问的高峰期等；</li><li><strong>故障注入</strong>，在相关的检查通过后，真正去执行故障的下发；</li><li><strong>指标观测</strong>，在整个演练期间会通过采集一些可以反映稳态的数据，比如以业务的访问成功率、业务的响应延迟等等，来分析故障演练对业务造成的影响；</li><li><strong>终止注入</strong>，在演练过程中发现整体影响比较大，或者有一些非可控的影响，可以立刻终止故障演练，避免故障演练对线上业务造成的影响进一步扩大；</li><li><strong>智能分析</strong>，在演练结束之后，可以通过采集一些反应故障注入或者是防守组件的相关数据判定本次故障演练是否符合预期。</li></ol><p>当前故障注入支持的主机类型比较全面，可以在物理机、虚拟机、容器上做故障演练。</p><h3 id="2-2-能力全景">2.2 能力全景</h3><p>这部分主要介绍一下我们故障演练平台的能力全景，它主要规划了我们当前数据库故障演练平台的一些核心能力，整体的细节如下图所示：</p><p><img src="https://p0.meituan.net/travelcube/31775d490769fc29aa4a0f47e9f3f78a1020356.png" alt=""></p><ul><li>从支持的数据库来看，当前我们主要支持MySQL的故障演练；</li><li>支持的数据库组件有数据库访问中间件、数据传输、高可用系统和Binlog Server，我们会在后续的迭代中逐步支持，当前我们正在接入数据库访问中间件的一些演练场景；</li><li>在整个故障演练过程中，我们会依赖高可用、容灾管控、故障诊断、故障兜底以及拓扑自愈等多个方面的能力，主要是验证上面提到的这些组件在整个演练过程中的表现是否符合预期；</li><li>当前，平台自身已经形成了从故障编排、故障注入、指标观测、故障终止、分析复盘的一个闭环。</li></ul><h3 id="2-3-故障注入能力">2.3 故障注入能力</h3><p>关于故障注入能力，当前支持的故障场景主要包括5个（如下图所示），目前我们主要建设的是宕机类（包括主库宕机、从库宕机）、主从延迟以及从库活跃连接多，由于当前线上80%的故障都是由这几个场景引起的，这也是我们目前没有建设过多故障场景的主要原因。后面我们还会规划建设高可用的链路故障，比如数据库和高可用同时出问题时，高可用的表现是怎么样的，是否能够顺利的进行切换。</p><p><img src="https://p0.meituan.net/travelcube/8adb05568e30456278b220dcb67205a468157.png" alt=""></p><p>在故障编排方面，我们通过建立一个任务内的子任务间的串行故障和并行故障的编排机制，来实现演练任务的统一编排。</p><p>在并发能力上，当前故障演练平台保守的并发故障注入能力是在一分钟实现5000+节点的故障注入，目前这个能力已经可以满足我们对于大规模故障演练的整体需求。</p><h3 id="2-4-演练流程">2.4 演练流程</h3><p>整个演练流程主要分成三部分，演练前、演练中和演练后，同时我们也形成了风险评估、风险复核、一键终止、故障复盘的能力闭环。</p><p><img src="https://p0.meituan.net/travelcube/9dc6552046830b22599ea53b2bd9f71f167387.png" alt=""></p><p>在演练前，我们主要做三个方面的工作：</p><ul><li>针对演练集群做风险评估，比如演练集群的高可用是否开启、拓扑是否符合要求；</li><li>利用多级审批机制，让业务和相关的DBA知晓整个演练的风险；</li><li>在演练前创建相关交流群，把故障演练相关的信息在群里进行周知。</li></ul><p>在演练中，有两方面的工作：</p><ul><li>在故障注入前，做一下前置检查，主要目的是在建立演练任务后和故障注入前这个时间段，防止因集群拓扑变化产生风险，比如演练的场景是从库宕机，这种情况下如果发生切换，故障注入的节点很有可能变成了主库；</li><li>如果一个任务里含有多个子任务，而某一个子任务发生了故障注入失败，那么后续演练我们会自动终止。</li></ul><p>在演练结束后，我们会进行故障清理，完成后做演练的数据收集，用于复盘，并据此完善相关的风险管控流程。</p><h3 id="2-5-爆炸半径控制">2.5 爆炸半径控制</h3><p>提到混沌工程，就不得不提到爆炸半径控制的问题，当前我们主要从两个维度、三个方面做了一些控制。</p><p><img src="https://p1.meituan.net/travelcube/a63a63e66262518ee650e97cfdcb9e99157994.png" alt=""></p><p>第一个维度是物理隔离，它包含两方面：</p><ul><li>场景维度隔离，即在同一时间点、单个数据库的集群只能注入单一类型的故障，主要是为了避免在单个演练任务中如果针对一个数据库集群注入多种故障，整体影响不容易被评估。</li><li>机器维度隔离，单个集群故障注入只能选定一个特定机器，而不能选择多个机器。</li></ul><p>第二个维度是流量控制，主要是通过中间件按权重下发少部分流量到演练节点实现，流量控制能从一个更精细的维度来控制演练的风险。</p><p>另外，我们在演练前、演练中和演练后都有相关的检查或措施，能够保证在演练期间出现问题后迅速把影响降到最低，这也是另外一种变相的爆炸半径控制。本质上来说，爆炸半径和通过演练发现的问题数量会有一个正比的关系，即爆炸半径控制得越小，整个故障演练对业务的影响也就越小。但与此同时，整个故障演练暴露出来的问题，就会比较有限，所以在建设过程中要做一个取舍。如果想发现更多的问题，那爆炸半径就要设计的大一些。当前，综合考量多种因素，我们还是把爆炸半径控制在一个相对合理范围去进行故障演练，让业务以一个更低的成本进行故障演练。</p><h3 id="2-6-演练复盘">2.6 演练复盘</h3><p>当演练结束后，我们需要对整体的演练结果做客观的评价分析，进而判断这次演练整体是否达到预期。演练复盘内容包括演练整体流程、存在的问题以及针对问题形成的相关改进点，它可以用来指导后续的演练。如果本次演练不符合预期，我们会通过演练复盘功能打通故障演练平台和故障复盘两大产品，自动生成演练相关的时间线，从而更好地进行人工复盘。</p><p><img src="https://p0.meituan.net/travelcube/39bfac7a52173ea0cd17f033d0e4f06e167462.png" alt=""></p><p>演练复盘主要是分为四部分：</p><ul><li>第一部分是演练复盘的概览信息，它主要是包含六个方面：① 演练时长；② 本次演练涉及的集群数；③ 演练场景数；④ 演练成功率，即故障注入的成功率；⑤ 演练过程中产生的告警数；⑥ 演练期间业务请求的成功率。</li><li>第二部分是关键步骤，这里收集了在整个演练过程中非常关键、非常核心的步骤，以及它整体的指标数据，这些可以帮助我们分析平台本身亦或是防守组件的相关表现是否符合预期。</li><li>第三部分是在演练过程中涉及的核心防守组件的指标数据，比如针对主库宕机，我们主要关心两方面数据：一是故障注入后，高可用组件用了多长时间才发现这个故障，二是在发现了这个故障后切换花了多长时间。通过这些数据，就可以知道在本次演练过程中防守组件的表现是否符合预期。</li><li>第四部分是演练详情，它是针对单个集群的演练过程绘制的完整的时间线信息，可以通过这些信息看到一个演练集群从前置检查到故障注入，到告警产生，到防守组件的介入，再到故障清理呈现出的一个非常详细的时间线数据，如下图所示：</li></ul><p><img src="https://p1.meituan.net/travelcube/80a5ba05556f6c23c2840b8be2f7e479250704.png" alt=""></p><h3 id="2-7-随机-无通知演练">2.7 随机、无通知演练</h3><p>从2022年开始，我们开始建设随机、无通知演练能力。之前故障演练平台主要是在特定时间、特定场景下的演练，并且在整个演练过程会组织相关的人员协同跟进整个演练过程。但是，故障的发生是一个非常随机的行为，它不会给人足够的时间去准备、应对。而随机无通知演练功能，就是希望建设这样的能力，可以在非特定时间、非特定集群、非特定场景进行故障演练，在一定程度上填补了故障演练的空白，也是故障演练平台向混沌工程演进的一个里程碑。整个演练过程主要分成三个部分：</p><p><img src="https://p1.meituan.net/travelcube/71a8c2ba289604a0e16d4cda5ebdd437148576.png" alt=""></p><p>第一部分是需要添加演练计划，其主要内容包括三个方面：</p><ul><li>可以通过集群、场景、演练时间这3个维度，去控制哪些集群可以演练哪些场景，在什么时间可以进行随机无通知演练；</li><li>按集群、场景维度组合去做相关风险检查，以此来保证添加的这些集群可以进行相关场景的演练；</li><li>和常规故障演练相似的是，它也提供了多维审批，可以让相关业务人员或者DBA知晓个整个演练的风险。</li></ul><p>第二部分是演练任务生成，有了演练计划后，我们按演练计划随机搭配生成演练任务并进行周知，和常规演练最大不同是我们不会周知演练的具体时间（会周知演练集群、场景），主要是为了模拟故障发生的随机性。随着后面整体能力的升级迭代，我们会逐步去掉在集群、场景维度的周知。</p><p>第三部分是演练任务执行，它完全复用我们常规故障演练的功能，也可以在演练前取消、演练中终止，演练后可以自动恢复整个集群的拓扑。</p><h3 id="2-8-演练模式对比">2.8 演练模式对比</h3><p>下面我们将常规故障演练、随机无通知演练以及混沌工程作一下对比，如下表所示：</p><p><img src="https://p0.meituan.net/travelcube/885fec0e9bc990042fd8920335560bdc709175.png" alt=""></p><ul><li>首先从演练目的维度来看：常规故障演练目的性非常强，它主要是验证已知的问题场景是否会再次造成生产上的事故；随机演练主要是在已知的故障场景、在有限的集群范围内，是否会产生问题；混沌工程的演练目的性最弱，它主要是检验未知的故障场景是否会造成问题。</li><li>从是否有人值守的维度来看：常规故障演练需要有人值守；随机无通知演练是朝着无人值守方向发展的，但当前鉴于我们的能力还在建设初期，所以也会增加一些相关的值守机制来控制演练风险；混沌工程是完全无人值守的，因为也无法去值守一个混沌工程的“混沌”实验。</li><li>从事先周知的维度来看：常规故障演练需要明确进行周知；随机无通知演练当前在有限集群和有限场景范围内进行演练（会周知演练集群、演练场景），不会周知具体的演练时间；混沌工程是完全无周知的演练形式。</li></ul><h3 id="2-9-演练运营体系">2.9 演练运营体系</h3><p>下面是数据库故障演练平台的运营体系的建设，主要关注四个部分：</p><p><img src="https://p0.meituan.net/travelcube/98e0032dbe1d15daa081ed50e934be11118067.png" alt=""></p><p>首先是演练核心指标：</p><ul><li>一是在一段时间内，共进行了多少次演练，涉及演练集群数有多少个；</li><li>二是在一段时间内演练集群和演练场景的覆盖率以及达标率；</li><li>三是故障演练结束后的反馈，即演练是否符合预期。</li></ul><p>第二部分是大规模演练的核心指标，我们主要关注三个方面：</p><ul><li>第一方面是每次大规模演练的演练规模；</li><li>第二方面是故障注入的成功率；</li><li>第三方面是故障注入的耗时分布，主要统计在某一个时间点，完成了多少实例的故障注入。</li></ul><p>第三部分是业务接入指标，一方面统计核心业务的接入情况，同时也会反映一下DBA在不同业务线的推广情况。</p><p>第四部分是平台能力指标，一方面是平台接口成功率，另一方面是平台接口的相关耗时。</p><h2 id="03-落地情况">03 落地情况</h2><h3 id="3-1-演练推广">3.1 演练推广</h3><p>本部分会介绍故障演练平台在美团内部的落地情况。首先在推广层面，我们主要采用三种形式：</p><p><img src="https://p0.meituan.net/travelcube/33bf64f7d3c923d93854ea93d3f15f50213860.png" alt=""></p><ul><li>第一种形式是故障驱动方式，如果线上发生了特定的故障场景，导致业务损失，我们就会进行相关故障场景的容忍能力建设以及验证。</li><li>第二种形式是主动演练，通过定期学习一些故障案例，判断相关的故障案例中的相关故障场景是否会对目前负责的业务产生影响，也可以通过故障演练平台做简单的摸底。</li><li>第三种形式是DBA主动策划组织，比如2022年，我们进行了三次规模比较大的演练，主要验证在特定故障场景下，业务的容错能力、高可用的防守能力是否符合预期。</li></ul><h3 id="3-2-实验环境">3.2 实验环境</h3><p>在混沌实验的环境选择上，我们目前提供了三种不同的环境：</p><p><img src="https://p1.meituan.net/travelcube/54eb36da55a08898c084ddd0a70ac925116786.png" alt=""></p><ul><li>第一种是线下环境，主要是用来发现问题后进行相关预案的建设和验证；</li><li>第二种是线上演练环境，主要是通过大规模的容灾演练，去验证防守组件的防守能力是否符合预期；</li><li>第三种是线上真实环境，就是我们真正的线上业务集群，主要通过具体业务进行相关故障场景的演练，能够更加真实、全面地验证故障的影响，以及相关预案的有效性。</li></ul><h3 id="3-3-演练规模">3.3 演练规模</h3><p>接下来是演练规模，演练的规模越大，影响的范围越大。我们的演练规模可以划分成三类：</p><p><img src="https://p1.meituan.net/travelcube/736d2984100fb01f7d3dfd9567b94cbf81157.png" alt=""></p><ul><li>第一类是单集群演练，主要验证故障影响及预案有效性；</li><li>第二类是中小规模演练，主要通过规模化的演练，去验证特定故障场景对业务的影响；</li><li>第三类是大规模的集群演练，主要验证容灾能力，以及相关防守组件的防守能力是否符合预期。</li></ul><h3 id="3-4-场景-等级">3.4 场景 &amp; 等级</h3><p>在整体推进方面，我们目前会从两个维度进行演练：</p><p><img src="https://p0.meituan.net/travelcube/40e25fcfe128c4852ca495c4205abd3c127085.png" alt=""></p><ul><li>第一个维度，我们会根据故障影响的严重程度，做无损到有损场景的演练；</li><li>第二个维度，演练会从低等级集群开始，最终过渡到高等级集群，这样做的目的是先给业务建立一个对于故障演练的信心，之后逐步在高等级集群中发挥故障演练的重要作用。</li></ul><h3 id="3-5-演练运营数据">3.5 演练运营数据</h3><p>下面是常规故障演练、随机无通知演练以及大规模故障演练的一些相关数据：</p><p><img src="https://p0.meituan.net/travelcube/d262df7010501dee9228df2e73bf0803206586.png" alt="">
<img src="https://p0.meituan.net/travelcube/7bc21047339877dcc8bf35b163927247248532.png" alt=""></p><ul><li>从常规故障演练的数据可以看出，当前我们整体上的常规故障演练覆盖率是偏低的。</li><li>随机功能演练是2022年第四季度才建设完成的能力，到目前还是初级推广阶段，所以整体上演练次数比较少，2023年的主要目标是通过在核心业务线的推广，不断提高演练集群的覆盖率，以期发现更多的问题。</li><li>大规模演练从2022年下半年开始，在演练频次有非常大的提高，这主要是为了更好地验证数据库底层依赖的防守能力在面临大规模故障时的表现。如果发现相关组件存在问题，我们也可以更好地辅助这些组件去做迭代，辅助建设相关的能力。上图统计的是单任务演练规模超过100个集群的数据，但如果按照20或50个集群进行统计汇总，那么大规模演练的任务次数还会更多。</li></ul><h3 id="3-6-防守体系能力验证">3.6 防守体系能力验证</h3><p>在防守体系能力建设层面，我们主要验证防守组件的三个核心能力：</p><p><img src="https://p0.meituan.net/travelcube/e8ddd3b6335ee81cdb0bd1f40c6c908180269.png" alt=""></p><ul><li>第一个从高用来看，主要验证RTO和RPO是否符合预期，以及在大规模故障场景下，其切换能力是否达标。</li><li>第二个从弹性伸缩来看，主要验证在单集群或规模化演练前提下，整体弹性扩容决策能力是否达到期望，以及在小规模场景下实地验证弹性扩容的并发能力。</li><li>第三个从观测来看，主要验证当大规模演练发生时，观测工具的及时性以及准确性。</li></ul><h3 id="3-7-业务演练收益">3.7 业务演练收益</h3><p>诚然，演练会对业务方造成一些“打扰”，但是业务方也会积极配合我们做这项工作，因为故障演练对业务方也有一些收益：一方面，业务方可以通过演练发现一些隐藏的问题，从而规避更大的风险；另一方面，我们在发现业务问题的同时，也能验证相关防守组件的表现是否符合预期。更多的细节，大家可以参考下图：</p><p><img src="https://p0.meituan.net/travelcube/2c4cbba9350c96aec3b092ceee3c2c9e129658.png" alt=""></p><h2 id="04-未来展望">04 未来展望</h2><h3 id="4-1-混沌工程成熟度模型">4.1 混沌工程成熟度模型</h3><p>下图是混沌工程成熟度模型（CEEM），右边是我们当前的数据库故障演练平台和标准的对比。可以明显地看到，当前我们在一些维度上做的还不够，比如当前故障场景的覆盖程度、稳态指标的覆盖程度、实验观测、文化建设等方面都存在一定的不足，而这些不足其实也是我们后续着重要改进的点。</p><p><img src="https://p0.meituan.net/travelcube/ef02cfe34065117b127c039b4453e532248921.png" alt=""></p><h3 id="4-2-混沌工程成熟度等级">4.2 混沌工程成熟度等级</h3><p>关于混沌工程成熟等级，我们也做了一些总结：</p><p><img src="https://p0.meituan.net/travelcube/dde32a2a7feff414adca1109c8bf3241221372.png" alt=""></p><ul><li>从开展程度来看，当前我们只是在一些核心部门进行了故障演练，在稳定提升方面会有一些相关建设的成果；</li><li>从落地收获来看，一是可以验证故障的影响，二是可以提高业务系统对于故障的容忍度，三是可以通过数据库故障演练平台，评估我们在稳定性建设方面的一些成果；</li><li>从整体评级来看，我们当前还处于基础阶段，后面也会继续在公司更多的核心部门推广数据库故障演练平台，持续为业务系统稳定性提升做出更大的贡献。</li></ul><h3 id="4-3-具体规划">4.3 具体规划</h3><p>在最后部分，我们分享一下关于未来的规划。在具体路径层面，我们会从五个方面进行开展工作：</p><p><img src="https://p1.meituan.net/travelcube/d635618f2aee6b5e0565c618b25b1c6186030.png" alt=""></p><ul><li>第一，要降低单次演练成本，比如降低单次演练的介入率，无论是业务还是DBA。</li><li>第二，丰富故障演练场景，建设链路故障注入能力，从服务端故障向端到端故障做一个扩展。</li><li>第三，增强可观测性，当前整个故障演练平台在观测指标方面相对比较缺乏，后续我们希望通过引入更多的观测指标，从而更好地观测整个混沌工程的实验过程。</li><li>第四，智能化，主要聚焦三方面：① 建设整个稳态系统，因为当前我们整个故障演练是否符合预期，主要还是通过人工或者DBA来进行判断，有了稳态系统后，可以通过稳态系统去判断；② 根据稳态系统相关指标建设故障自动终止能力；③ 建设相关的演练推荐能力，因为现在业务线推广演练时，可能还不清楚我们该在哪些集群演练哪些场景，当有了这个能力后，业务在演练时会有更强的针对性。</li><li>第五，希望能够实现演练常态化，即通过常态化演练去发现业务端更多的隐患。</li></ul></div></div><div class="meta-box post-bottom-meta-box hidden-print"><span class="tag-links"><i class="fa fa-tags" aria-hidden="true"></i><a href="/tags/%E5%9F%BA%E7%A1%80%E7%A0%94%E5%8F%91%E5%B9%B3%E5%8F%B0.html" rel="tag">基础研发平台</a>, <a href="/tags/%E8%BF%90%E7%BB%B4.html" rel="tag">运维</a>, <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93.html" rel="tag">数据库</a>, <a href="/tags/%E6%94%BB%E9%98%B2%E6%BC%94%E7%BB%83.html" rel="tag">攻防演练</a></span></div><div class="row page-navigation-container hidden-print"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><div class="navigation-wrapper"><div class="pager"><div class="title-box"><i class="fa fa-paperclip"></i>#看看其他</div><a href="https://tech.meituan.com/2023/05/18/robust-2.0-android-r8.html" title="Robust 2.0：支持Android R8的升级版热修复框架" class="previous"><span aria-hidden="true">前一篇: Robust 2.0：支持Android R8的升级版热修复框架</span></a>
<a href="https://tech.meituan.com/2023/06/09/meituan-database-recovery-system.html" title="超大规模数据库集群保稳系列之三：美团数据库容灾体系建设实践" class="next"><span aria-hidden="true">后一篇: 超大规模数据库集群保稳系列之三：美团数据库容灾体系建设实践</span></a></div></div></div></div><div class="row page-comments-container hidden-print"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"><div class="comments-wrapper hidden-print"><div id="comments" class="comments-disabled"><div class="title-box"><i class="fa fa-comments-o"></i>#一起聊聊</div><div class="post-feedback-box hidden-print"><p>如发现文章有错误、对内容有疑问，都可以关注美团技术团队微信公众号（meituantech），在后台给我们留言。</p><img class="qrcode" src="https://p1.meituan.net/travelcube/b0364d579285ab22aa6235bd100d7c22178175.png" alt="美团技术团队微信二维码"><p class="follow-us">分享一线技术实践，沉淀成长学习经验</p></div></div></div></div></div><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script>MathJax.Hub.Config({tex2jax:{inlineMath:[['$','$'],['\\(','\\)']],processEscapes:true}});</script></div></div></div></div><div class="container-fluid main-container" id="J_footer-container"><script>$CONFIG['data']['footerLink']=[{"name":"网站首页","link":"/"},{"name":"文章存档","link":"/archives"},{"name":"关于我们","link":"/about"}];</script><div class="row"><div class="col-md-12 footer-links-container"><div class="footer-divider"></div></div><div class="col-md-4"><p>一行代码，亿万生活。</p></div><div class="col-md-8"><ul class="nav nav-pills navbar-right"><li class="menu-item"><a href="/" title="">网站首页</a></li><li class="menu-item"><a href="/archives" title="">文章存档</a></li><li class="menu-item"><a href="/about" title="">关于我们</a></li></ul></div></div><div class="m-fixed-button"><div class="m-wrapper"><div class="m-qrcode"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAAAjklEQVRIx81V2xHAIAjTnruyhmuwbb96Z6kYOJWaTx6SKGBm5poMIKJXnDXvsgTNoGgMrUxR3nYFnwLMXHusNTvyx73BA+1ONTvyb1eQvXNgjQ9T4EbbLaizQhQsKTBSsVyBvLbi7YoWaDZS6gzaDPNeUfM2lXOgHSjz4ncRYub92c7Zpgjnb1ON8e9vcAOBkF++GF/4vQAAAABJRU5ErkJggg=="></div><div class="m-go-top"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAAB/ElEQVR42u3bX0rcUBiG8cc/o+5CwW5CL0rpJirY+2zDbZzbti6klXYhCm7B0Ssv7AfqJAMz7zk5n/A+VzMhTL78IOSQITullCvc1u32HuCjZ0AxA4oZUMyAYgYUM6CYAcUMKGZAMQOKGVDMgGIGFDOgmAHFDChmQDEDihlQzIBiBhQzoJgBxQwoZkAxA4rt9x5gTQ/Ab2AP+Awc9h5orKyAD8DPYRjuAUopt8AlcNR7sPdlvITf4AEMw3AHXAPL3sO9LxvgCl6UFTET4ApeKeVTKeUkvmdEzAI4igdcAJeZETMALpnG2wcWJEbsDbgEfozgfePtCiEtYk/AdXiLkf1TIvYC3BQvWof42ONEegBuixdNIf6iA+LcgCpelAZxTsAxvFM2x4tSIM4FOIV3wXZ4USAex4a5EecAbIUXLYDvvRBbA7bGi7ohtgScCy/qgtgKcG68aAqx2TqxBWAvvGgM8ZZGiLUBe+NFY3fnJog1AbPgRQdMIz7VOkhNwD+J8KIpxJtaB2hyE0mCF60g1myn4iv/j8BfXp7jnZED73VPwL//n895gZWr+bfmIfB1ZpRNOgC+1P7R3k+kP3wGFDOgmAHFDChmQDEDihlQzIBiBhQzoJgBxQwoZkAxA4oZUMyAYgYUM6CYAcUMKGZAMQOKGVDMgGIGFDOg2DOEU/uBJ0Ro/gAAAABJRU5ErkJggg=="></div></div><div class="qrcode-container"><div class="qr_code"><p class="desktop_qr_tittle">扫码关注技术博客</p><img src="https://p1.meituan.net/travelcube/7d0f734bcd029f452d415ce7d521a0d9632811.gif" class="qr_img"></div></div></div></div><script src="https://awps-assets.meituan.net/mit/blog/v20190629/post.js?v=Whistle&amp;t=20181017-1r"></script><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-55279261-1"></script><script>try{window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-55279261-1');}catch(e){}</script><script>try{var _hmt=_hmt||[];var hm=document.createElement("script");hm.src="https://hm.baidu.com/hm.js?7158c55a533ed0cf57dede022b1e6aed";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm,s);}catch(e){}</script></body></html>